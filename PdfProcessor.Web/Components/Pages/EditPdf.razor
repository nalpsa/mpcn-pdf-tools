@page "/edit-pdf"
@page "/editar"

<PageTitle>Editar PDF - PDF Processor</PageTitle>

<div class="page-container">
  <div class="page-header">
    <div class="header-icon">âœ‚ï¸</div>
    <div>
      <h1>Editar PDF</h1>
      <p class="subtitle">Rotacione e remova pÃ¡ginas individualmente</p>
    </div>
  </div>

  <div class="content-card">
    <div class="info-box info">
      <div class="info-icon">â„¹ï¸</div>
      <div>
        <strong>Como funciona:</strong>
        <ul>
          <li>Selecione <strong>um Ãºnico arquivo PDF</strong></li>
          <li>Visualize miniaturas de todas as pÃ¡ginas</li>
          <li>Rotacione pÃ¡ginas individuais (â†¶ â†·)</li>
          <li>Marque pÃ¡ginas para remoÃ§Ã£o (ğŸ—‘ï¸)</li>
          <li>FaÃ§a download do PDF editado</li>
        </ul>
      </div>
    </div>

    <div class="upload-section">
      <!-- âœ… Upload via sistema compartilhado -->
      <div class="upload-area" id="uploadArea">
        <div class="upload-icon">ğŸ“</div>
        <div class="upload-text">Clique aqui ou arraste um PDF</div>
        <div class="upload-hint">Selecione apenas um arquivo PDF (mÃ¡x. 16MB)</div>
      </div>
      <input type="file" id="fileInput" class="hidden-file-input" accept=".pdf" />
    </div>

    <!-- InformaÃ§Ãµes do arquivo carregado -->
    <div id="fileInfoContainer" style="display: none;"></div>

    <!-- Loading -->
    <div id="loadingIndicator" class="loading" style="display: none;">
      <div class="spinner"></div>
      <p id="loadingText">Carregando pÃ¡ginas...</p>
    </div>

    <!-- Mensagem de status -->
    <div id="statusMessage" class="alert" style="display: none;"></div>
  </div>

  <!-- Grid de pÃ¡ginas (aparece apÃ³s carregar) -->
  <div id="pagesSection" class="pages-section" style="display: none;">
    
    <!-- EstatÃ­sticas -->
    <div class="action-section">
      <div class="action-stats" id="actionStats"></div>
    </div>

    <!-- Grid de pÃ¡ginas -->
    <div class="pages-grid" id="pagesGrid"></div>

    <!-- BotÃµes de aÃ§Ã£o -->
    <div class="action-section">
      <button class="btn btn-primary" id="downloadBtn" onclick="downloadEditedPdf()" disabled>
        ğŸ“¥ Download PDF
      </button>
      <button class="btn btn-secondary" onclick="resetRotations()">
        ğŸ”„ Resetar RotaÃ§Ãµes
      </button>
      <button class="btn btn-secondary" onclick="resetDeletions()">
        â†©ï¸ Restaurar Todas
      </button>
      <button class="btn btn-danger" onclick="resetAll()">
        ğŸ—‘ï¸ Limpar Tudo
      </button>
    </div>
  </div>

  <div class="feature-boxes">
    <div class="feature-box">
      <div class="feature-icon">ğŸ”„</div>
      <h4>RotaÃ§Ã£o por PÃ¡gina</h4>
      <p>Rotacione apenas as pÃ¡ginas que precisa</p>
    </div>
    <div class="feature-box">
      <div class="feature-icon">âœ‚ï¸</div>
      <h4>RemoÃ§Ã£o Seletiva</h4>
      <p>Delete pÃ¡ginas indesejadas facilmente</p>
    </div>
    <div class="feature-box">
      <div class="feature-icon">ğŸ‘ï¸</div>
      <h4>Preview Visual</h4>
      <p>Veja as mudanÃ§as em tempo real</p>
    </div>
  </div>
</div>

<!-- ========================================
     CSS - Ordem crÃ­tica: Shared primeiro
     ======================================== -->
<link rel="stylesheet" href="/css/pdf-upload-shared.css" />
<link rel="stylesheet" href="/css/edit-pdf.css" />

<!-- ========================================
     JavaScript - Ordem crÃ­tica
     ======================================== -->
<!-- 1. ConfiguraÃ§Ã£o da API -->
<script src="/js/api-config.js"></script>

<!-- 2. Sistema de upload compartilhado -->
<script src="/js/pdf-upload-handler.js"></script>

<!-- 3. LÃ³gica especÃ­fica do Edit PDF -->
<script src="/js/edit-pdf.js"></script>
